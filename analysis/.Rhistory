all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-c("X","batch","start","end","num_alive_apr15")
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g per plant
all.data3 %>% mutate(above_biomass_g/num_plants)%>%
show_query()
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g per plant
all.data3 %>% mutate(above_biomass_g/num_plants)
#adding the total biomass per plant
#adding the biomass ratio data per plant
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g per plant
all.data3 %>% mutate(above_biomass_g/num_plants)
#adding the below_biomass_g per plant
all.data3 %>% mutate(below_biomass_g/num_plants)
#adding the total biomass per plant
all.data3 %>%mutate((above_biomass_g/num_plants)+(below_biomass_g/num_plants))
#adding the biomass ratio data per plant
all.data3 %>%mutate (above_biomass_g/num_plants)/(below_biomass_g/num_plants)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g per plant
all.data3 %>% mutate(above_biomass_g/num_plants)
#adding the below_biomass_g per plant
all.data3 %>% mutate(below_biomass_g/num_plants)
#adding the total biomass per plant
all.data3 %>%mutate((above_biomass_g/num_plants)+(below_biomass_g/num_plants))
#adding the biomass ratio data per plant
all.data3 %>%mutate ((above_biomass_g/num_plants)/(below_biomass_g/num_plants))
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g per plant
all.data3 %>% mutate(above_biomass_g/num_plants)
#adding the below_biomass_g per plant
all.data3 %>% mutate(below_biomass_g/num_plants)
#adding the total biomass per plant
all.data3 %>%mutate((above_biomass_g/num_plants)+(below_biomass_g/num_plants))
#adding the biomass ratio data per plant
all.data3 %>%mutate ((above_biomass_g/num_plants)/(below_biomass_g/num_plants))
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g per plant
all.data3 %>% mutate(above_biomass_g/num_plants)
#adding the below_biomass_g per plant
all.data3 %>% mutate(below_biomass_g/num_plants)
#adding the total biomass per plant
all.data3 %>%mutate((above_biomass_g/num_plants)+(below_biomass_g/num_plants))
#adding the biomass ratio data per plant
all.data3 %>%mutate ((above_biomass_g/num_plants)/(below_biomass_g/num_plants))
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
View(all.data)
View(all.data3)
show_query()
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant,below_biomass_g/plant, total_biomass,ratio of above_biomass_g and below_biomass_g
all.data4<-all.data3 %>% select(above_biomass_g,below_biomass_g,num_plants) %>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants,ratio=above_biomass_perplant/below_biomass_perplant,total_biomass=above_biomass_perplant+below_biomass_perplant)
write.table (all.data4,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant,below_biomass_g/plant, total_biomass,ratio of above_biomass_g and below_biomass
all.data3 %>% select(above_biomass_g,num_plants) %>% mutate(above_biomass_perplant=above_biomass_g/num_plants)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant,below_biomass_g/plant, total_biomass,ratio of above_biomass_g and below_biomass
all.data3 %>% select(above_biomass_g,num_plants) %>% mutate(above_biomass_perplant=above_biomass_g/num_plants)
#write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant,below_biomass_g/plant, total_biomass,ratio of above_biomass_g and below_biomass
all.data3 %>% select(above_biomass_g,num_plants) %>% mutate(above_biomass_perplant=above_biomass_g/num_plants)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant
all.data3<-all.data3 %>% select(above_biomass_g,num_plants) %>% mutate(above_biomass_perplant=above_biomass_g/num_plants)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants,ratio=above_biomass_perplant/below_biomass_perplant,total_biomass=above_biomass_perplant+below_biomass_perplant,)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F,833A
all.data3<-filter(all.data2, sample_id!= "847F","833A")
knitr::opts_chunk$set(echo = TRUE)
#Set up all the packages you will need. Tidyverse include dplyer
require(tidyverse)
require(ggpubr)
knitr::opts_chunk$set(message = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#remove 833A
all.data3<-filter(all.data3,sample_id!= "833A")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants,ratio=above_biomass_perplant/below_biomass_perplant,total_biomass=above_biomass_perplant+below_biomass_perplant)
#adding the nodules/plant
all.data3<-all.data3%>%mutate(nodulesperplant=Count/num_plants_picked_nods)
#adding the CFUpermlperplant and CFUpernodule
all.data3<-all.data3%>%mutate(CFUperplant=cfu_ml/num_plants_picked_nods,CFUpernodule=cfu_ml/Count)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
knitr::opts_chunk$set(echo = TRUE)
#Set up all the packages you will need. Tidyverse include dplyer
require(tidyverse)
require(ggpubr)
knitr::opts_chunk$set(message = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#remove 833A
all.data3<-filter(all.data3,sample_id!= "833A")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants,ratio=above_biomass_perplant/below_biomass_perplant,total_biomass=above_biomass_perplant+below_biomass_perplant)
#adding the nodules/plant
all.data3<-all.data3%>%mutate(nodulesperplant=Count/num_plants_picked_nods)
#adding the CFUpermlperplant and CFUpernodule
all.data3<-all.data3%>%mutate(CFUperplant=cfu_ml/num_plants_picked_nods,CFUpernodule=cfu_ml/Count)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#remove 833A
all.data3<-filter(all.data3,sample_id!= "833A")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants,ratio=above_biomass_perplant/below_biomass_perplant,total_biomass=above_biomass_perplant+below_biomass_perplant)
#adding the nodules/plant
all.data3<-all.data3%>%mutate(nodulesperplant=Count/num_plants_picked_nods)
#adding the CFUpermlperplant and CFUpernodule
all.data3<-all.data3%>%mutate(CFUperplant=cfu_ml/num_plants_picked_nods,CFUpernodule=cfu_ml/Count)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#remove 833A
all.data3<-filter(all.data3,sample_id!= "833A")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding the above_biomass_g/plant
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants,ratio=above_biomass_perplant/below_biomass_perplant,total_biomass=above_biomass_perplant+below_biomass_perplant)
#adding the nodules/plant
all.data3<-all.data3%>%mutate(nodulesperplant=Count/num_plants_picked_nods)
#adding the CFUpermlperplant and CFUpernodule
all.data3<-all.data3%>%mutate(CFUperplant=cfu_ml/num_plants_picked_nods,CFUpernodule=cfu_ml/nodulesperplant)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#remove 833A
all.data3<-filter(all.data3,sample_id!= "833A")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding  above_biomass_g/plant,below_biomass_g/plant,ratio and total_biomass
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants,ratio=above_biomass_perplant/below_biomass_perplant,total_biomass=above_biomass_perplant+below_biomass_perplant)
#adding nodules_perplant
all.data3<-all.data3%>%mutate(nodules_perplant=Count/num_plants_picked_nods)
#adding the CFU_perplant and CFU_pernodule
all.data3<-all.data3%>%mutate(CFUperplant=cfu_ml/num_plants_picked_nods,CFUpernodule=cfu_ml/nodules_perplant)
#adding total_nodulated_area_perplant and average_size_pernodule
all.data3<-all.data3%>%mutate(Area_perplant=total_area/num_plants_picked_nods,average_size_pernodule=Area_perplant/nodules_perplant)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data2 <-full_join (all.data,genotype_name,by = "genotype_id")
#remove 847F
all.data3<-filter(all.data2, sample_id!= "847F")
#remove 833A
all.data3<-filter(all.data3,sample_id!= "833A")
#remove 833B
all.data3<-filter(all.data3,sample_id!="833B")
#removing columns marked "X","batch","start","end","num_alive_apr15"
all.data3<-subset (all.data3, select=-c(X,batch,start,end,num_alive_apr15))
#adding  above_biomass_g/plant,below_biomass_g/plant,ratio and total_biomass
all.data3<-all.data3%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants,ratio=above_biomass_perplant/below_biomass_perplant,total_biomass=above_biomass_perplant+below_biomass_perplant)
#adding nodules_perplant
all.data3<-all.data3%>%mutate(nodules_perplant=Count/num_plants_picked_nods)
#adding the CFU_perplant and CFU_pernodule
all.data3<-all.data3%>%mutate(CFUperplant=cfu_ml/num_plants_picked_nods,CFUpernodule=cfu_ml/nodules_perplant)
#adding total_nodulated_area_perplant and average_size_pernodule
all.data3<-all.data3%>%mutate(Area_perplant=total_area/num_plants_picked_nods,average_size_pernodule=Area_perplant/nodules_perplant)
write.table (all.data3,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
knitr::opts_chunk$set(echo = TRUE)
#Load packages needed. Tidyverse include dplyer
require(tidyverse)
require(ggpubr)
require(ggplot2)
require(RColorBrewer)
knitr::opts_chunk$set(message = FALSE)
# Import the text file of nodule data
data_HostMutants2021_nod_counts <- read.table("../data/data_HostMutants2021_nod_counts.txt",sep = "\t",header=TRUE)
# Import the genotype information data
genotype_name <- read.table("../data/genotype_name.txt",sep = "\t",header=TRUE)
#import the text file with the CFU data
data_nsfpgrp_hostmutants_C86meliloti <- read.table("../data/data_nsfpgrp_hostmutants_C86meliloti.txt",sep = "\t",header=TRUE)
#merge  data_HostMutants2021_nod_counts.txt,data_nsfpgrp_hostmutants_C86meliloti.txt, by 'sample_id","genotype_id" and "rep"
all.data <-full_join (data_HostMutants2021_nod_counts,data_nsfpgrp_hostmutants_C86meliloti,by=c("sample_id","genotype_id","rep"))
# merge the newly created table with the "genotype_name"
all.data <-full_join (all.data,genotype_name,by = "genotype_id")
#removing columns marked "batch","start","end","num_alive_apr15"
all.data<-subset (all.data, select=-c(X,batch,start,end,num_alive_apr15))
#adding above_biomass_g/plant,below_biomass_g/plant,ratio and total_biomass
all.data<-all.data%>% mutate(above_biomass_perplant=above_biomass_g/num_plants,below_biomass_perplant=below_biomass_g/num_plants,ratio=above_biomass_perplant/below_biomass_perplant,total_biomass=above_biomass_perplant+below_biomass_perplant)
#adding nodules/plant
all.data<-all.data%>% mutate(nodules_perplant=Count/num_plants_picked_nods)
#adding cfu per plant - divide by 4ml (this is the amount added to nodules to homogenize) then divide by number of plants picked nodules from to get cfu/ml to cfu/plant;cfupernodule
all.data<-all.data%>% mutate(CFUperplant=cfu_ml/num_plants_picked_nods/4, CFUpernodule=CFUperplant/nodules_perplant)
#adding total_nodulated area_perplant and Nodulesize_perplant
all.data<-all.data%>% mutate(total_nodulated_area_perplant=total_area/num_plants_picked_nods,Nodulesizeperplant=total_nodulated_area_perplant/nodules_perplant)
write.table (all.data,file="Traits_MedicagoMutants.txt",sep = "\t",row.names = FALSE)
